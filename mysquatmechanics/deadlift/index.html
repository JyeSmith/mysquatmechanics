<!DOCTYPE html>
<html lang="en">

<head>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://blockchain.info/Resources/js/pay-now-button.js"></script>
  <meta name="generator" content="squat deadlift mechanics model modelling" />
  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8" />
  <title>MySquatMechanics</title>
  <meta name="just some guy" content="" />
  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css" />
  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <!-- https://fortawesome.github.io/Font-Awesome/get-started/ -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="/css/normalize.css" />
  <link rel="stylesheet" href="/css/skeleton.css" />
  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="/images/favicon.png" />

  <!-- Plotly.js -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <style>
    ul.share-buttons {
      list-style: none;
      padding: 0;
    }

    ul.share-buttons li {
      display: inline;
    }

    ul.share-buttons img {
      width: 32px;
    }

    #ad img {
      margin-bottom: 50px;
      max-width: 100%;
      height: auto;
    }
  </style>
</head>

<body onload="update()">
  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">

    <div class="row">
      <div class="nine columns">
        <h1>MySquatMechanics.com</h1>
      </div>
      <div class="three columns">
        <ul class="share-buttons">
          <li><a
              href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.mysquatmechanics.com%2F&t=My%20Squat%20Mechanics"
              title="Share on Facebook" target="_blank"><img
                src="https://mysquatmechanics.com/images/social_flat_rounded_rects_svg/Facebook.svg"></a></li>
          <li><a
              href="https://twitter.com/intent/tweet?source=http%3A%2F%2Fwww.mysquatmechanics.com%2F&text=My%20Squat%20Mechanics:%20http%3A%2F%2Fwww.mysquatmechanics.com%2F"
              target="_blank" title="Tweet"><img
                src="https://mysquatmechanics.com/images/social_flat_rounded_rects_svg/Twitter.svg"></a></li>
          <li><a
              href="https://www.reddit.com/submit?url=http%3A%2F%2Fwww.mysquatmechanics.com%2F&title=My%20Squat%20Mechanics"
              target="_blank" title="Submit to Reddit"><img
                src="https://mysquatmechanics.com/images/social_flat_rounded_rects_svg/Reddit.svg"></a></li>
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="three columns">
        <h5> <a href="/" style="text-decoration: none; color : #000">MySquatMechanics</a> </h5>
      </div>
      <div class="three columns">
        <h5> <a href="/bench/" style="text-decoration: none; color : #000">MyBenchMechanics</a> </h5>
      </div>
      <div class="three columns">
        <h5> <a href="/deadlift/" style="text-decoration: none; color : #000">MyDeadliftMechanics</a> </h5>
      </div>
    </div>

    <div class="row">
      <div class="one-half column">
        <div class="row">
          <div class="one-third column">
            <b>Foot</b>
          </div>
          <div class="one-third column">
            <input type="range" id="footslider" min="5" max="40" value="20" step="1" oninput="update(this.value)" />
          </div>
          <div class="one-third column">
            <span id="footvalue">25 cm (9.8") cm</span>
          </div>
        </div>
        <div class="row">
          <div class="one-third column">
            <b>Tibia</b>
          </div>
          <div class="one-third column">
            <input type="range" id="tibiaslider" min="10" max="80" value="50" step="1" oninput="update(this.value)" />
          </div>
          <div class="one-third column">
            <span id="tibiavalue">50 cm (19.7")</span>
          </div>
        </div>
        <div class="row">
          <div class="one-third column">
            <b>Femur</b>
          </div>
          <div class="one-third column">
            <input type="range" id="femurslider" min="10" max="80" value="50" step="1" oninput="update(this.value)" />
          </div>
          <div class="one-third column">
            <span id="femurvalue">50 cm (19.7")</span>
          </div>
        </div>
        <div class="row">
          <div class="one-third column">
            <b>Torso</b>
          </div>
          <div class="one-third column">
            <input type="range" id="torsoslider" min="10" max="120" value="55" step="1" oninput="update(this.value)" />
          </div>
          <div class="one-third column">
            <span id="torsovalue">55 cm (21.7")</span>
          </div>
        </div>
        <div class="row">
          <div class="one-third column">
            <b>Arm</b>
          </div>
          <div class="one-third column">
            <input type="range" id="armslider" min="10" max="120" value="55" step="1" oninput="update(this.value)" />
          </div>
          <div class="one-third column">
            <span id="armvalue">55 cm (21.7")</span>
          </div>
        </div>
      </div>
      <div class="one-half column">
        <div class="row">
          <div class="one-third column">
            <b>Max Ankle Flexion</b>
          </div>
          <div class="one-third column">
            <input type="range" id="ankleflexiontslider" min="0" max="30" value="4" step="1"
              oninput="update(this.value)" />
          </div>
          <div class="one-third column">
            <span id="ankleflexionvalue">10</span> Degrees
          </div>
        </div>

        <div class="row">
          <div class="one-third column">
            <b>Plate Diameter</b>
          </div>
          <div class="one-third column">
            <input id="plateslider" min="0" max="200" value="45" step="1" oninput="update(this.value)" type="range">
          </div>
          <div class="one-third column">
            <span id="platevalue"> </span>
          </div>
        </div>

        <div class="row">
          <b>Position</b>
        </div>
        <div class="row">
          <div class="one-third column">Up</div>
          <div class="one-third column">
            <input type="range" id="positionslider" min="0" max="99" value="99" step="1" oninput="update(this.value)" />
          </div>
          <div class="one-third column">Down</div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="one-third column" id="model"></div>
      <div class="two-thirds column" id="stats"></div>
    </div>
    <div class="row">
      <div class="one-half column">
        <h3>The Model</h3>
        <p>
          The stick man displays the body part lengths selected above with the sliders and the current selected deadlift
          position. The deadlift position is based on the ankle travelling through a large angle early in the lift and
          more slowly in the last half. This is to get the knees out of the way and shins vertical early on in the lift.
          <b>Or set the ankle angle slider at a point where the ankle angle remains flat and constant on the plot to
            keep the shins vertical, and knees stationary, throughout the entire lift.</b>
        </p>
        <p>

        </p>
      </div>
      <div class="one-half column">
        <h3>The Graph (Squat Stats)</h3>
        <p>
          The plot displays the moment of the hips and knees along with the angle of the back, hips and knees throughout
          all positions of the deadlift. From squatting on the right to standing on the left. The vertical line shows
          the current position of the model and can be changed by sliding the position slider above.
        </p>
      </div>
    </div>

    <div class="row" id="info">
      <div class="twelve columns">
        <h3>Info</h3>
        If you found MySquatMechanics.com then you more than likely have already researched and read a lot about
        deadlifting. If not, below is a bit of reading material to get you started.
        <br />
        <br />
        <a href="https://www.t-nation.com/training/deconstructing-the-deadlift">
          <b>Deconstructing the Deadlift - A Deep Analysis of Proper Deadlift Mechanics</b> by Mark Rippetoe
          06/29/15</a>
        <br />
        <a href="https://www.strengtheory.com/everything-you-think-is-wrong-with-your-deadlift/">
          <b>Everything You Think Is Wrong With Your Deadlift Is Probably Right</b> by Greg Nuckols 10/24/2014</a>
        <br />
        <a href="https://www.youtube.com/watch?v=WaNb5HDniYE">
          <b>Deadlift Set-up and Body Shape</b> by Alan Thrall 05/25/15</a>
        <br />

        <br />
        <br />
      </div>
    </div>

    <div class="row">
      <hr />
    </div>

    <div class="row">
      <div class="twelve columns">
        <div align="center">
          contact@mysquatmechanics.com - 2016
        </div>
      </div>
    </div>

  </div>

  <script type="text/javascript">
    function update(newValue) {

      var foot = document.getElementById("footslider").value;
      var tibia = document.getElementById("tibiaslider").value;
      var femur = document.getElementById("femurslider").value;
      var torso = document.getElementById("torsoslider").value;
      var arm = document.getElementById("armslider").value;
      var ankleflexion = document.getElementById("ankleflexiontslider").value;
      var position = document.getElementById("positionslider").value;
      var plated = document.getElementById("plateslider").value;
      //var plate = 22.5;

      var plate = plated / 2.0;

      document.getElementById("footvalue").innerHTML = foot.concat(" cm (", (foot / 2.54).toFixed(1), "\")");
      document.getElementById("tibiavalue").innerHTML = tibia.concat(" cm (", (tibia / 2.54).toFixed(1), "\")");
      document.getElementById("femurvalue").innerHTML = femur.concat(" cm (", (femur / 2.54).toFixed(1), "\")");
      document.getElementById("torsovalue").innerHTML = torso.concat(" cm (", (torso / 2.54).toFixed(1), "\")");
      document.getElementById("armvalue").innerHTML = arm.concat(" cm (", (arm / 2.54).toFixed(1), "\")");
      document.getElementById("platevalue").innerHTML = plated.concat(" cm (", (plated / 2.54).toFixed(1), "\")");
      document.getElementById("ankleflexionvalue").innerHTML = ankleflexion;

      var maxankleflexion = Math.atan((foot / 2) / plate) * 180 / Math.PI;
      if (ankleflexion > maxankleflexion) {
        ankleflexion = maxankleflexion;
      }
      var anklezero = Math.asin((foot / 2) / (Number(tibia) + Number(femur) + Number(torso))) * 180 / Math.PI;
      var ankleinc = (ankleflexion - anklezero) / 99;

      var shoulderstart = Math.sqrt(Math.pow(Number(tibia) + Number(femur) + Number(torso), 2) - Math.pow(foot / 2, 2));
      var barinc = (shoulderstart - arm - plate) / 99;

      var shoulderforwardinc = 0.1 * torso / 99;

      var toexy = [foot / 2, 0];
      var heelxy = [-foot / 2, 0];
      var anklexy = [-foot / 4, 0.16 * tibia];

      var anklecurrent = new Array();
      var kneecurrent = new Array();
      var kneex = new Array();
      var kneey = new Array();
      var hipx = new Array();
      var hipy = new Array();
      var shoulderx = new Array();
      var shouldery = new Array();
      var handy = new Array();
      var kneemoment = new Array();
      var hipmoment = new Array();
      var summedmoment = new Array();
      var backangle = new Array();
      var hipangle = new Array();
      var kneeangle = new Array();
      var tlen = new Array();
      var flen = new Array();

      for (i = 0; i < 100; i++) {

        //linear ankle breaking model.
        //anklecurrent[i] = anklezero + i * ankleinc;
        //Exp ankle breaking model.  Get those knees out of the way and shins vertical.
        anklecurrent[i] = anklezero + ankleinc * i * i * i / (99 * 99);

        shoulderx[i] = i * shoulderforwardinc;
        shouldery[i] = shoulderstart - i * barinc;
        handy[i] = shouldery[i] - arm;

        kneex[i] = tibia * Math.sin(anklecurrent[i] * Math.PI / 180) - (foot / 2);
        kneey[i] = tibia * Math.cos(anklecurrent[i] * Math.PI / 180);

        hipy[i] = shouldery[i] + Number(torso);
        do {
          hipy[i] -= 0.1;
          //hipx[i] = - Math.sqrt(torso*torso - Math.pow(shouldery[i] - hipy[i],2));
          hipx[i] = shoulderx[i] - Math.sqrt(torso * torso - Math.pow(shouldery[i] - hipy[i], 2));
          flen[i] = Math.sqrt(Math.pow(kneex[i] - hipx[i], 2) + Math.pow(hipy[i] - kneey[i], 2));
          if (hipy[i] == 0) {
            die();
          }
        }
        while (flen[i].toFixed(0) != femur);

        if (i == 0) {
          hipx[i] = kneex[i] + Math.sin(anklezero * Math.PI / 180) * femur;
          hipy[i] = kneey[i] + Math.cos(anklezero * Math.PI / 180) * femur;
        }

        flen[i] = Math.sqrt(Math.pow(kneex[i] - hipx[i], 2) + Math.pow(hipy[i] - kneey[i], 2));
        tlen[i] = Math.sqrt(Math.pow(hipx[i], 2) + Math.pow(shouldery[i] - hipy[i], 2));

        kneemoment[i] = Math.abs(kneex[i]);
        hipmoment[i] = Math.abs(hipx[i]);
        summedmoment[i] = Math.abs(kneex[i]) + Math.abs(hipx[i]);

        backangle[i] = (180 / Math.PI) * (Math.atan((shouldery[i] - hipy[i]) / (shoulderx[i] - hipx[i])));

        shoulderkneedistance = Math.sqrt(Math.pow(kneex[i], 2) + Math.pow((shouldery[i] - kneey[i]), 2));
        hipangle[i] = (180 / Math.PI) * (Math.acos((Math.pow(shoulderkneedistance, 2) - Math.pow(femur, 2) - Math.pow(torso, 2)) / (-2 * femur * torso)));

        hipsankledistance = Math.sqrt(Math.pow(hipy[i], 2) + Math.pow((hipx[i] - anklexy[0]), 2));
        kneeangle[i] = (180 / Math.PI) * (Math.acos((Math.pow(hipsankledistance, 2) - Math.pow(tibia, 2) - Math.pow(femur, 2)) / (-2 * tibia * femur)));

      }

      //-----------------------
      // plot neck and head
      //-----------------------
      neckx = shoulderx[position] + 10 * Math.cos((Math.PI / 180) * (backangle[position]));
      necky = shouldery[position] + 10 * Math.sin((Math.PI / 180) * (backangle[position]));
      centerheadx = shoulderx[position] + 20 * Math.cos((Math.PI / 180) * (backangle[position]));
      centerheady = shouldery[position] + 20 * Math.sin((Math.PI / 180) * (backangle[position]));

      steps = 32;
      radius = 10;
      var headx = new Array();
      var heady = new Array();
      for (i = 0; i < steps; ++i) {
        a = 2 * Math.PI / steps * i;
        headx[i] = radius * Math.cos(a) + centerheadx;
        heady[i] = radius * Math.sin(a) + centerheady;
      }

      headx[steps] = headx[0];
      heady[steps] = heady[0];

      var plothead = {
        x: headx,
        y: heady,
        type: 'scatter',
        mode: 'lines',
        line: {
          color: 'red',
          width: 2
        },
        name: ''
      };

      //-----------------------
      // plot bar
      //-----------------------
      steps = 32;
      radius = plate;
      var weightx = new Array();
      var weighty = new Array();
      for (i = 0; i < steps; ++i) {
        a = 2 * Math.PI / steps * i;
        weightx[i] = radius * Math.cos(a);
        weighty[i] = radius * Math.sin(a) + handy[position];
      }
      weightx[steps] = weightx[0];
      weighty[steps] = weighty[0];

      var plotbar = {
        x: weightx,
        y: weighty,
        type: 'scatter',
        mode: 'lines',
        line: {
          color: 'blue',
          width: 2
        },
        name: ''
      };

      //-----------------------
      // plot body
      //-----------------------
      var plotbody = {
        x: new Array(anklexy[0], toexy[0], heelxy[0], anklexy[0], kneex[position], hipx[position], neckx, shoulderx[position], 0),
        y: new Array(anklexy[1], toexy[1], heelxy[1], anklexy[1], kneey[position], hipy[position], necky, shouldery[position], handy[position]),
        type: 'scatter',
        mode: 'lines+markers',
        line: {
          color: 'red',
          width: 2
        },
        name: ''
      };

      var data = [plothead, plotbody, plotbar];

      var layout = {
        title: 'Deadlift Model',
        xaxis: {
          range: [-50, 50],
          autorange: false
        },
        yaxis: {
          range: [0, 200],
          autorange: false
        },
        showlegend: false
      };

      Plotly.newPlot('model', data, layout);

      //-----------------------
      // plot stats
      //----------------------

      var data = [
        { y: kneemoment, x: handy, type: 'scatter', name: 'Knee moment', line: { dash: 'dot' } },
        { y: hipmoment, x: handy, type: 'scatter', name: 'Hip moment', line: { dash: 'dot' } },
        { y: summedmoment, x: handy, type: 'scatter', name: 'Summed moment', line: { dash: 'dot' } },
        { y: backangle, x: handy, type: 'scatter', name: 'Back angle', yaxis: 'y2' },
        { y: hipangle, x: handy, type: 'scatter', name: 'Hip angle', yaxis: 'y2' },
        { y: kneeangle, x: handy, type: 'scatter', name: 'Knee angle', yaxis: 'y2' },
        { y: anklecurrent, x: handy, type: 'scatter', name: 'Ankle angle', yaxis: 'y2' },
        { y: new Array(0, 180), x: new Array(handy[position], handy[position]), type: 'scatter', name: 'Current Position', yaxis: 'y2' }
      ];



      var layout = {
        title: 'Deadlift Stats',
        xaxis: {
          range: [handy[0] + 5, handy[99] - 5],
          autorange: false,
          title: 'Bar Height (cm)'
        },
        yaxis: {
          range: [0, 100],
          autorange: false,
          showgrid: false,
          zeroline: false,
          showline: false,
          showticklabels: false,
          title: 'Moment'
        },
        yaxis2: {
          range: [0, 190],
          autorange: false,
          overlaying: 'y',
          title: 'Angle',
          side: 'right'
        },
        legend: {
          xanchor: "left",
          yanchor: "top",
          y: 1.1,
          x: 1.15,
          font: {
            size: 8
          }
        }
      };

      Plotly.newPlot('stats', data, layout);

    }
  </script>
</body>

</html>